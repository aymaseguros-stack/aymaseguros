<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Admin - Ayma Advisors</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        function App() {
            const [isAuth, setIsAuth] = React.useState(false);
            const [username, setUsername] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [quotes, setQuotes] = React.useState([]);

            React.useEffect(() => {
                if (isAuth) {
                    loadData();
                }
            }, [isAuth]);

            function loadData() {
                const data = localStorage.getItem('ayma_quotes');
                if (data) {
                    setQuotes(JSON.parse(data));
                }
            }

            function handleLogin(e) {
                e.preventDefault();
                if (username === 'ayma' && password === 'Mimamamemima14') {
                    setIsAuth(true);
                } else {
                    alert('Credenciales incorrectas');
                }
            }

            if (!isAuth) {
                return React.createElement('div', { 
                    className: 'min-h-screen bg-blue-900 flex items-center justify-center p-4' 
                }, 
                    React.createElement('div', { 
                        className: 'bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md' 
                    },
                        React.createElement('h1', { 
                            className: 'text-3xl font-bold text-center mb-8' 
                        }, 'Ayma Advisors'),
                        React.createElement('form', { onSubmit: handleLogin, className: 'space-y-6' },
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-semibold mb-2' }, 'Usuario'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: username,
                                    onChange: (e) => setUsername(e.target.value),
                                    className: 'w-full px-4 py-3 border-2 rounded-xl',
                                    required: true
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-semibold mb-2' }, 'Contraseña'),
                                React.createElement('input', {
                                    type: 'password',
                                    value: password,
                                    onChange: (e) => setPassword(e.target.value),
                                    className: 'w-full px-4 py-3 border-2 rounded-xl',
                                    required: true
                                })
                            ),
                            React.createElement('button', {
                                type: 'submit',
                                className: 'w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl'
                            }, 'Iniciar Sesión')
                        )
                    )
                );
            }

            const total = quotes.length;
            const nuevas = quotes.filter(q => q.status === 'nueva').length;
            const vendidas = quotes.filter(q => q.status === 'vendida').length;

            return React.createElement('div', { className: 'min-h-screen bg-gray-100' },
                React.createElement('div', { className: 'bg-white shadow-md p-4 border-b-4 border-blue-600' },
                    React.createElement('div', { className: 'container mx-auto flex justify-between items-center' },
                        React.createElement('h1', { className: 'text-2xl font-bold' }, 'Panel Ayma Advisors'),
                        React.createElement('button', {
                            onClick: () => setIsAuth(false),
                            className: 'bg-red-500 text-white px-4 py-2 rounded-lg'
                        }, 'Cerrar Sesión')
                    )
                ),
                React.createElement('div', { className: 'container mx-auto px-4 py-8' },
                    React.createElement('div', { className: 'grid grid-cols-3 gap-4 mb-8' },
                        React.createElement('div', { className: 'bg-white rounded-xl shadow-md p-6' },
                            React.createElement('p', { className: 'text-sm text-gray-600 font-semibold' }, 'Total'),
                            React.createElement('p', { className: 'text-3xl font-bold' }, total)
                        ),
                        React.createElement('div', { className: 'bg-white rounded-xl shadow-md p-6' },
                            React.createElement('p', { className: 'text-sm text-blue-600 font-semibold' }, 'Nuevas'),
                            React.createElement('p', { className: 'text-3xl font-bold text-blue-700' }, nuevas)
                        ),
                        React.createElement('div', { className: 'bg-white rounded-xl shadow-md p-6' },
                            React.createElement('p', { className: 'text-sm text-green-600 font-semibold' }, 'Vendidas'),
                            React.createElement('p', { className: 'text-3xl font-bold text-green-700' }, vendidas)
                        )
                    ),
                    React.createElement('div', { className: 'space-y-4' },
                        quotes.length === 0 ? 
                            React.createElement('div', { className: 'bg-white rounded-xl shadow-md p-12 text-center' },
                                React.createElement('p', { className: 'text-gray-500 text-lg' }, 'No hay cotizaciones')
                            ) :
                            quotes.map(q => 
                                React.createElement('div', { 
                                    key: q.id, 
                                    className: 'bg-white rounded-xl shadow-md p-6' 
                                },
                                    React.createElement('h3', { className: 'text-xl font-bold mb-2' }, q.nombre),
                                    React.createElement('p', null, 'CP: ' + q.codigoPostal),
                                    React.createElement('p', null, 'Vehículo: ' + q.marca + ' ' + q.modelo + ' (' + q.anio + ')'),
                                    React.createElement('p', null, 'Cobertura: ' + q.cobertura)
                                )
                            )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>
